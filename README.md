# irrigation-springler

## Introduction

Irrigation may play a vital role in commercial fruit growing as well as in flower gardens. To date, however, there has been little easy availability of smart, scalable and last but not least open source software for this kind of industry. The purpose of this project is to develop a set of microservices in order to provide useful features for digital gardening with a special focus on water management.

The project presented here leverages the Spring Framework to implement the needed services. In order to build a scalable solution, Apache Kafka is used to connect the services and providing stream-processing.

## Planned data-driven process

The first step of the planned process is to determine precipitation data, whether simulated or retrieved from a provider. Once the data is present and sent to a message broker, the data has to be aggregated and transformed to meet the gardeners individual analysis preferences. Following this transformation the data is sent again to the message broker to reach a consumer, whose task is to persist the information at a relational database. Finally there will be a RESTful API to fetch the stored information at any given time from a device or app of your choice.

## References

To date, several sources enabled the development of this project and supported my learning journey:

### Apache Kafka

- Course Apache Kafka Fundamentals (Video) https://www.youtube.com/c/Confluent/playlists
- Learn Apache Kafka for Beginners (Video) https://www.linkedin.com/learning/learn-apache-kafka-for-beginners/
- Kafka: The Definitive Guide (Book) https://www.confluent.de/resources/kafka-the-definitive-guide/

### Spring Boot

- Learning Spring with Spring Boot (Video) https://www.linkedin.com/learning/learning-spring-with-spring-boot-2
- Spring Framework and Apache Kafka (Video) https://www.youtube.com/c/Confluent/playlists
- Baeldung (Website) https://www.baeldung.com/spring-kafka
- GitHub (Repo) https://github.com/eugenp/tutorials/tree/master/spring-kafka

Overall, these sources of information facilitated my entry in this domain and I encourage you to take a look at them.

# Install Kafka binaries for debugging

- get the latest release

`wget https://www.apache.org/dyn/closer.cgi?path=/kafka/3.0.0/kafka_2.13-3.0.0.tgz`

- extract the package

`tar -xzf kafka_2.13-3.0.0.tgz`

- move the folder to a proper dir

`mv kafka_2.13-3.0.0 /usr/bin`

- add binaries to PATH

`export PATH="/usr/bin/kafka_2.13-3.0.0/bin:$PATH"`

- test by typing first

`kafka-topics.sh --bootstrap-server localhost:9092 -create --topic test_topic --partitions 1 --replication-factor 1`

- and testing secondly by

`kafka-topics.sh --bootstrap-server localhost:9092 -list`

# Test results report

To get an overview of this project from a test perspective, you need to download, generate and open the test results report. The tests are run by the [Apache Maven Surefire Plugin](https://maven.apache.org/surefire/maven-surefire-plugin/index.html), the report is generated by the [Apache Maven Surefire Report Plugin](https://maven.apache.org/surefire/maven-surefire-report-plugin/index.html) and the report is styled by use of the [Apache Maven Fluido Skin](https://maven.apache.org/skins/maven-fluido-skin/).

- Download the respository from GitHub

`git clone https://github.com/philippabele/irrigation-springler.git`

- Generate the test report

`mvn clean site`

- Open the HTML file in the target directory

`/target/site/surefire-report.html`
